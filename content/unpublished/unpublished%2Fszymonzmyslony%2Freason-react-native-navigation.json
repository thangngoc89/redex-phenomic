{"type":"unpublished","id":"unpublished/szymonzmyslony/reason-react-native-navigation","name":"szymonzmyslony/reason-react-native-navigation","version":"0.1.0","description":"","author":"","license":"MIT","keywords":["reasonml","react-native","bucklescript","navigation","reason"],"readme":"# reason-react-native-navigation\nThis is a simple react native navigation written in reason. It has been created with an eye to fully utilize Reason type-system. \nCurrently, only stack-navigation (standard slide from left for iOS and slide from button from Android) is implemented.\nMain problem that we are trying to solve with this is passing props to child components in a straightforward and type-safe way.\n\n## How does it look like?\nThe example app is avaialble at https://github.com/szymonzmyslony/reason-react-native-navigation-exampleApp\n\n\nThis is how this example app looks like:\n![Switch between screens](reason-navigation.gif)\n\nAs you can see the count update (state of the root component) doesn't get rerendered when you click increment or decrement on the second screen. This is the first issue that I will be working on solving.\n\n\n## How to use it (when you want to have a full control over your navigation state)?\nStackNavigator is a functor that expects one type for your navigationState variant:\n```reason\nmodule type Impl = {\n  type navigationState;\n};\n```\n\nThis is how you create a functor:\n\n```reason\nmodule StackNavigator =\n  StackNavigator.Make {\n    type navigationState = screen;\n  };\n```\n\nFor example, in my simple app, I had:\n```reason\ntype screen =\n  | Login\n  | MainScreen\n  | Player int string;\n\n```\nStackNavigator requires navigation state to be managed by parent component. Thus, we need to pass \nnavigation state, pop, and push methods, and two render functions (header and screen). This is how root render in my app looks\nlike:\n```reason\n render: fun {state, update, handle} =>\n    ReasonReact.element @@\n    StackNavigator.make\n      navigationState::state.navigationState\n      goBack::(update pop)\n      getHeaderConfig::headerTitle\n      render::(\n        renderScreen\n          ::handle\n          pop::(update pop)\n          push::(update push)\n          updateProjects::(update updateProjects)\n          projects::state.projects\n      )\n```      \nrenderScreen and render can take any arguments needed from the root of the app and pass it down to other screens:\n```reason\nlet renderScreen\n    pop::(pop: 'a => unit)\n    push::(push: screen => unit)\n    ::projects\n    ::handle\n    ::updateProjects\n    screen =>\n  switch screen {\n  | Login => ReasonReact.element @@ LoginScreen.make ()\n  | Player index _id => DetailViewProject.render project::(List.nth projects index)\n  | MainScreen =>\n    ReasonReact.element @@ MainScreenContainer.make ::push ::updateProjects ::projects\n  };\n\nlet headerTitle screen =>\n  switch screen {\n  | MainScreen => \"Shows\"\n  | _ => \"test\"\n  };\n  ```\n\n  New StatefullStackNavigator module avoid boilerplate for push and pop actions. \n  The example app (https://github.com/szymonzmyslony/reason-react-native-navigation-exampleApp)\n  is showing how to use it. \n\n\n\n","analyzed":"2017-12-24T16:47:08.088Z","updated":"2017-12-24T16:47:08.088Z","stars":20,"score":0,"quality":0,"popularity":0,"maintenance":0,"repositoryUrl":"https://github.com/szymonzmyslony/reason-react-native-navigation","npmUrl":null,"docsUrl":null}